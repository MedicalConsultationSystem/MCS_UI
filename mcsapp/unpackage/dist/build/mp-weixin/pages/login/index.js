(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/index"],{2549:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(t("36ca"));function a(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{session_key:"",unionid:"",openid:"",msg:{open_id:"",phone:""},jsCode:""}},methods:{getPhoneNumber:function(n){if("getPhoneNumber:fail user deny"===n.detail.errMsg);else{var t=new o.default("wx7eec75ebae0ab5c2",this.session_key),a=t.decryptData(n.detail.encryptedData,n.detail.iv);this.msg.phone=a.phoneNumber;var i=JSON.stringify(this.msg);this.$axios.post("https://api.zghy.xyz/account/login",i).then((function(n){getApp().globalData.userInfo=n.data.data,e.setStorageSync("token",n.data.data.token),console.log("登陆成功！"),e.switchTab({url:"../home/index"})}))}}},onLoad:function(){var n=this;e.login({success:function(t){console.log(t),t.code?(n.jsCode=t.code,e.request({url:"https://api.weixin.qq.com/sns/jscode2session",method:"GET",data:{appid:"wx7eec75ebae0ab5c2",secret:"3fc5ef882c8dfe0cc7bbcd2c3a1ebb2c",js_code:n.jsCode},success:function(e){console.log(e),n.msg.open_id=e.data.openid,n.openid=e.data.openid,n.unionid=e.data.unionid,n.session_key=e.data.session_key}})):console.log("登录失败！"+t.errMsg)}})}};n.default=i}).call(this,t("543d")["default"])},"7e93":function(e,n,t){},"896b":function(e,n,t){"use strict";(function(e){t("e878");o(t("66fd"));var n=o(t("e506"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},d7b5:function(e,n,t){"use strict";var o=t("7e93"),a=t.n(o);a.a},dbe9:function(e,n,t){"use strict";var o;t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}));var a=function(){var e=this,n=e.$createElement;e._self._c},i=[]},e506:function(e,n,t){"use strict";t.r(n);var o=t("dbe9"),a=t("e5bf");for(var i in a)"default"!==i&&function(e){t.d(n,e,(function(){return a[e]}))}(i);t("d7b5");var s,c=t("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);n["default"]=u.exports},e5bf:function(e,n,t){"use strict";t.r(n);var o=t("2549"),a=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=a.a}},[["896b","common/runtime","common/vendor"]]]);